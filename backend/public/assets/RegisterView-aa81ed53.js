import{_ as x,u as N,a as R,b as D,r as d,o as E,c as M,d as r,e as t,f as o,g as U,w as z,h as i,n as g,i as s,t as v,j as u,k as $,s as b,l as y,m as B}from"./index-0b450a74.js";import{_ as F}from"./logo1-b9c562a1.js";import{u as L,s as k,r as w,e as T,m as j,a as q}from"./password.esm-cc7ea422.js";const I={class:"login-bg-new"},J={class:"login-card-new"},G={class:"field-new"},H={key:0,class:"p-error"},K={class:"field-new"},O={key:0,class:"p-error"},Q={class:"field-new"},W={key:0,class:"p-error"},X={class:"field-new"},Y={key:0,class:"p-error"},Z={key:0,class:"custom-spinner"},ee={class:"register-link-new"},se={__name:"RegisterView",setup(ae){const h=N(),S=R(),V=D(),m=d(""),p=d(""),n=d(""),_=d(""),c=d(!1),P={name:{required:w},emailValue:{required:w,email:T},password:{required:w,minLength:j(6)},confirmPassword:{required:w,sameAsPassword:q(n)}},a=L(P,{name:m,emailValue:p,password:n,confirmPassword:_}),A=async()=>{var e,f;if(await a.value.$validate()){c.value=!0;try{await S.register({nome:m.value,email:p.value,senha_hash:n.value}),V.add({severity:"success",summary:"Sucesso",detail:"Registro realizado com sucesso!",life:3e3}),h.push("/login")}catch(l){V.add({severity:"error",summary:"Erro",detail:((f=(e=l.response)==null?void 0:e.data)==null?void 0:f.error)||"Erro ao realizar registro",life:3e3})}finally{c.value=!1}}};return E(()=>{document.title="Abastece Fácil"}),(C,e)=>{const f=M("router-link");return r(),t("div",I,[o("div",J,[e[11]||(e[11]=U('<div class="login-logo-new no-bg" data-v-6f926258><img src="'+F+'" alt="Logo App Abastecimento" class="logo-img" data-v-6f926258></div><div class="login-title-block" data-v-6f926258><div class="login-title-new" data-v-6f926258>Crie sua conta no</div><div class="app-name-login" data-v-6f926258>Abastece Fácil</div></div>',2)),o("form",{onSubmit:z(A,["prevent"]),class:"login-form-new"},[o("div",G,[e[4]||(e[4]=o("label",{for:"name"},"Nome",-1)),i(s(b),{id:"name",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),class:g(["login-input-new",{"p-invalid":s(a).name.$error}]),placeholder:"Digite seu nome",autocomplete:"name"},null,8,["modelValue","class"]),s(a).name.$error?(r(),t("small",H,v(s(a).name.$errors[0].$message),1)):u("",!0)]),o("div",K,[e[5]||(e[5]=o("label",{for:"email"},"Email",-1)),i(s(b),{id:"email",modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),type:"email",class:g(["login-input-new",{"p-invalid":s(a).emailValue.$error}]),placeholder:"Digite seu email",autocomplete:"username"},null,8,["modelValue","class"]),s(a).emailValue.$error?(r(),t("small",O,v(s(a).emailValue.$errors[0].$message),1)):u("",!0)]),o("div",Q,[e[6]||(e[6]=o("label",{for:"password"},"Senha",-1)),i(s(k),{id:"password",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),class:g(["w-full",{"p-invalid":s(a).password.$error}]),"input-class":"login-input-new",feedback:!1,toggleMask:"",placeholder:"Digite sua senha",autocomplete:"new-password"},null,8,["modelValue","class"]),s(a).password.$error?(r(),t("small",W,v(s(a).password.$errors[0].$message),1)):u("",!0)]),o("div",X,[e[7]||(e[7]=o("label",{for:"confirmPassword"},"Confirmar Senha",-1)),i(s(k),{id:"confirmPassword",modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=l=>_.value=l),class:g(["w-full",{"p-invalid":s(a).confirmPassword.$error}]),"input-class":"login-input-new",feedback:!1,toggleMask:"",placeholder:"Confirme sua senha",autocomplete:"new-password"},null,8,["modelValue","class"]),s(a).confirmPassword.$error?(r(),t("small",Y,v(s(a).confirmPassword.$errors[0].$message),1)):u("",!0)]),i(s(B),{type:"submit",class:"login-btn-new app-btn-main",loading:c.value},{default:$(()=>[e[9]||(e[9]=y(" Registrar ")),c.value?(r(),t("span",Z,e[8]||(e[8]=[o("i",{class:"pi pi-spin pi-spinner"},null,-1)]))):u("",!0)]),_:1},8,["loading"]),o("div",ee,[i(f,{to:"/login"},{default:$(()=>e[10]||(e[10]=[y("Já tem uma conta? "),o("b",null,"Faça login",-1)])),_:1,__:[10]})])],32)])])}}},te=x(se,[["__scopeId","data-v-6f926258"]]);export{te as default};
